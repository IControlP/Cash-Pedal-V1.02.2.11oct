# vehicle_database_s.py - Manufacturers starting with 'S'
# Comprehensive vehicle database with accurate trim availability and pricing by year

MANUFACTURERS_S = {
    'Subaru': {
        'Outback': {
            'production_years': (2000, 2025),
            'trims_by_year': {
                2000: {'L': 21495, 'Limited': 25495, 'VDC': 27495},
                2001: {'L': 21795, 'Limited': 25795, 'VDC': 27795, 'LL Bean': 29795},
                2002: {'Base': 21995, 'Limited': 26095, 'VDC': 28095, 'LL Bean': 30095},
                2003: {'Base': 22295, 'Limited': 26395, 'VDC': 28395, 'LL Bean': 30395},
                2004: {'Base': 22595, 'Limited': 26695, 'VDC': 28695, 'LL Bean': 30695},
                2005: {'2.5i': 22995, '2.5i Limited': 26995, '3.0R': 28995, '3.0R Limited': 32995, '3.0R LL Bean': 34995},
                2006: {'2.5i': 23295, '2.5i Limited': 27295, '3.0R': 29295, '3.0R Limited': 33295, '3.0R LL Bean': 35295},
                2007: {'2.5i': 23595, '2.5i Limited': 27595, '3.0R': 29595, '3.0R Limited': 33595, '3.0R LL Bean': 35595},
                2008: {'2.5i': 23895, '2.5i Limited': 27895, '3.0R': 29895, '3.0R Limited': 33895, '3.0R LL Bean': 35895},
                2009: {'2.5i': 24195, '2.5i Premium': 26195, '2.5i Limited': 28195, '3.0R Limited': 34195, '3.0R LL Bean': 36195},
                2010: {'2.5i': 24495, '2.5i Premium': 26495, '2.5i Limited': 28495, '3.6R Limited': 34495, '3.6R LL Bean': 36495},
                2011: {'2.5i': 24795, '2.5i Premium': 26795, '2.5i Limited': 28795, '3.6R Limited': 34795, '3.6R LL Bean': 36795},
                2012: {'2.5i': 25095, '2.5i Premium': 27095, '2.5i Limited': 29095, '3.6R Limited': 35095, '3.6R LL Bean': 37095},
                2013: {'2.5i': 25395, '2.5i Premium': 27395, '2.5i Limited': 29395, '3.6R Limited': 35395, '3.6R LL Bean': 37395},
                2014: {'2.5i': 25695, '2.5i Premium': 27695, '2.5i Limited': 29695, '3.6R Limited': 35695, '3.6R LL Bean': 37695},
                2015: {'2.5i': 25995, '2.5i Premium': 27995, '2.5i Limited': 29995, '3.6R Limited': 35995, '3.6R Touring': 37995},
                2016: {'2.5i': 26295, '2.5i Premium': 28295, '2.5i Limited': 30295, '3.6R Limited': 36295, '3.6R Touring': 38295},
                2017: {'2.5i': 26595, '2.5i Premium': 28595, '2.5i Limited': 30595, '3.6R Limited': 36595, '3.6R Touring': 38595},
                2018: {'2.5i': 26895, '2.5i Premium': 28895, '2.5i Limited': 30895, '3.6R Limited': 36895, '3.6R Touring': 38895},
                2019: {'2.5i': 27195, '2.5i Premium': 29195, '2.5i Limited': 31195, '3.6R Limited': 37195, '3.6R Touring': 39195},
                2020: {'Base': 27195, 'Premium': 29695, 'Limited': 33195, 'Limited XT': 36695, 'Touring': 38695, 'Touring XT': 39695},
                2021: {'Base': 27495, 'Premium': 29995, 'Limited': 33495, 'Limited XT': 36995, 'Touring': 38995, 'Touring XT': 39995, 'Wilderness': 37495},
                2022: {'Base': 27795, 'Premium': 30295, 'Limited': 33795, 'Limited XT': 37295, 'Touring': 39295, 'Touring XT': 40295, 'Wilderness': 37795},
                2023: {'Base': 28095, 'Premium': 30595, 'Limited': 34095, 'Limited XT': 37595, 'Touring': 39595, 'Touring XT': 40595, 'Wilderness': 38095},
                2024: {'Base': 28395, 'Premium': 30895, 'Limited': 34395, 'Limited XT': 37895, 'Touring': 39895, 'Touring XT': 40895, 'Wilderness': 38395},
                2025: {'Base': 28695, 'Premium': 31195, 'Limited': 34695, 'Limited XT': 38195, 'Touring': 40195, 'Touring XT': 41195, 'Wilderness': 38695}
            }
        },
        'Forester': {
            'production_years': (2000, 2025),
            'trims_by_year': {
                2000: {'L': 20495, 'S': 22495},
                2001: {'L': 20795, 'S': 22795, 'LL Bean': 25795},
                2002: {'L': 21095, 'S': 23095, 'LL Bean': 26095},
                2003: {'X': 21395, 'XS': 23395, 'XT': 25395},
                2004: {'X': 21695, 'XS': 23695, 'XT': 25695},
                2005: {'2.5X': 21995, '2.5XS': 23995, '2.5XT': 25995},
                2006: {'2.5X': 22295, '2.5XS': 24295, '2.5XT': 26295},
                2007: {'2.5X': 22595, '2.5XS': 24595, '2.5XT': 26595},
                2008: {'2.5X': 22895, '2.5X Premium': 24895, '2.5XT': 26895, '2.5XT Limited': 28895},
                2009: {'2.5X': 23195, '2.5X Premium': 25195, '2.5XT': 27195, '2.5XT Limited': 29195},
                2010: {'2.5X': 23495, '2.5X Premium': 25495, '2.5XT': 27495, '2.5XT Limited': 29495},
                2011: {'2.5X': 23795, '2.5X Premium': 25795, '2.5XT': 27795, '2.5XT Limited': 29795},
                2012: {'2.5X': 24095, '2.5X Premium': 26095, '2.5XT': 28095, '2.5XT Limited': 30095},
                2013: {'2.5i': 22395, '2.5i Premium': 25395, '2.5i Limited': 28395, '2.0XT Premium': 29395},
                2014: {'2.5i': 22695, '2.5i Premium': 25695, '2.5i Limited': 28695, '2.0XT Premium': 29695, '2.0XT Touring': 31695},
                2015: {'2.5i': 22995, '2.5i Premium': 25995, '2.5i Limited': 28995, '2.0XT Premium': 29995, '2.0XT Touring': 31995},
                2016: {'2.5i': 23295, '2.5i Premium': 26295, '2.5i Limited': 29295, '2.0XT Premium': 30295, '2.0XT Touring': 32295},
                2017: {'2.5i': 23595, '2.5i Premium': 26595, '2.5i Limited': 29595, '2.0XT Premium': 30595, '2.0XT Touring': 32595},
                2018: {'2.5i': 23895, '2.5i Premium': 26895, '2.5i Limited': 29895, '2.0XT Premium': 30895, '2.0XT Touring': 32895},
                2019: {'Base': 24295, 'Premium': 26995, 'Limited': 30995, 'Sport': 29295, 'Touring': 33295},
                2020: {'Base': 24595, 'Premium': 27295, 'Limited': 31295, 'Sport': 29595, 'Touring': 33595},
                2021: {'Base': 24895, 'Premium': 27595, 'Limited': 31595, 'Sport': 29895, 'Touring': 33895},
                2022: {'Base': 25195, 'Premium': 27895, 'Limited': 31895, 'Sport': 30195, 'Touring': 34195, 'Wilderness': 32695},
                2023: {'Base': 25495, 'Premium': 28195, 'Limited': 32195, 'Sport': 30495, 'Touring': 34495, 'Wilderness': 32995},
                2024: {'Base': 25795, 'Premium': 28495, 'Limited': 32495, 'Sport': 30795, 'Touring': 34795, 'Wilderness': 33295},
                2025: {'Base': 26095, 'Premium': 28795, 'Limited': 32795, 'Sport': 31095, 'Touring': 35095, 'Wilderness': 33595}
            }
        },
        'Impreza': {
            'production_years': (2000, 2025),
            'trims_by_year': {
                2000: {'L': 16495, 'RS': 18495, '2.5RS': 20495},
                2001: {'L': 16795, 'RS': 18795, '2.5RS': 20795, 'WRX': 24795},
                2002: {'TS': 17095, 'RS': 19095, '2.5RS': 21095, 'WRX': 25095},
                2003: {'TS': 17395, 'RS': 19395, '2.5RS': 21395, 'WRX': 25395},
                2004: {'TS': 17695, 'RS': 19695, '2.5RS': 21695, 'WRX': 25695, 'STI': 31695},
                2005: {'2.5i': 17995, 'RS': 19995, 'WRX': 25995, 'STI': 31995},
                2006: {'2.5i': 18295, 'RS': 20295, 'WRX': 26295, 'STI': 32295},
                2007: {'2.5i': 18595, 'RS': 20595, 'WRX': 26595, 'STI': 32595},
                2008: {'2.5i': 18895, '2.5i Premium': 20895, 'WRX': 26895, 'STI': 32895},
                2009: {'2.5i': 19195, '2.5i Premium': 21195, 'WRX': 27195, 'STI': 33195},
                2010: {'2.5i': 19495, '2.5i Premium': 21495, 'WRX': 27495, 'STI': 33495},
                2011: {'2.5i': 19795, '2.5i Premium': 21795, 'WRX': 27795, 'STI': 33795},
                2012: {'2.0i': 18295, '2.0i Premium': 20295, '2.0i Limited': 22295, 'WRX': 25995, 'STI': 34095},
                2013: {'2.0i': 18595, '2.0i Premium': 20595, '2.0i Limited': 22595, 'WRX': 26295, 'STI': 34395},
                2014: {'2.0i': 18895, '2.0i Premium': 20895, '2.0i Limited': 22895, 'WRX': 26595, 'STI': 34695},
                2015: {'2.0i': 19195, '2.0i Premium': 21195, '2.0i Limited': 23195, 'WRX': 26995, 'STI': 34995},
                2016: {'2.0i': 19495, '2.0i Premium': 21495, '2.0i Limited': 23495, 'WRX': 27295, 'STI': 35295},
                2017: {'2.0i': 19795, '2.0i Premium': 21795, '2.0i Limited': 23795, 'WRX': 27595, 'STI': 35595},
                2018: {'2.0i': 20095, '2.0i Premium': 22095, '2.0i Limited': 24095, 'WRX': 27895, 'STI': 35895},
                2019: {'2.0i': 20395, '2.0i Premium': 22395, '2.0i Limited': 24395, 'WRX': 28195, 'STI': 36195},
                2020: {'2.0i': 20695, '2.0i Premium': 22695, '2.0i Limited': 24695, 'WRX': 28495, 'STI': 36495},
                2021: {'2.0i': 20995, '2.0i Premium': 22995, '2.0i Limited': 24995, 'WRX': 28795, 'STI': 36795},
                2022: {'Base': 20295, 'Premium': 22795, 'Limited': 25795, 'WRX': 31995, 'WRX Premium': 34995, 'WRX Limited': 37995},
                2023: {'Base': 20595, 'Premium': 23095, 'Limited': 26095, 'WRX': 32395, 'WRX Premium': 35395, 'WRX Limited': 38395},
                2024: {'Base': 20895, 'Premium': 23395, 'Limited': 26395, 'WRX': 32795, 'WRX Premium': 35795, 'WRX Limited': 38795},
                2025: {'Base': 21195, 'Premium': 23695, 'Limited': 26695, 'WRX': 33195, 'WRX Premium': 36195, 'WRX Limited': 39195}
            }
        },
        'Legacy': {
            'production_years': (2000, 2025),
            'trims_by_year': {
                2000: {'L': 19495, 'GT': 22495, 'Limited': 25495},
                2001: {'L': 19795, 'GT': 22795, 'Limited': 25795, 'LL Bean': 27795},
                2002: {'L': 20095, 'GT': 23095, 'Limited': 26095, 'LL Bean': 28095},
                2003: {'L': 20395, 'GT': 23395, 'Limited': 26395, 'LL Bean': 28395},
                2004: {'L': 20695, 'GT': 23695, 'Limited': 26695, 'LL Bean': 28695},
                2005: {'2.5i': 20995, '2.5GT': 23995, '2.5GT Limited': 26995, '3.0R': 28995, '3.0R Limited': 31995},
                2006: {'2.5i': 21295, '2.5GT': 24295, '2.5GT Limited': 27295, '3.0R': 29295, '3.0R Limited': 32295},
                2007: {'2.5i': 21595, '2.5GT': 24595, '2.5GT Limited': 27595, '3.0R': 29595, '3.0R Limited': 32595},
                2008: {'2.5i': 21895, '2.5GT': 24895, '2.5GT Limited': 27895, '3.0R': 29895, '3.0R Limited': 32895},
                2009: {'2.5i': 22195, '2.5GT': 25195, '2.5GT Limited': 28195, '3.0R': 30195, '3.0R Limited': 33195},
                2010: {'2.5i': 22495, '2.5i Premium': 24495, '2.5GT': 25495, '3.6R': 30495, '3.6R Limited': 33495},
                2011: {'2.5i': 22795, '2.5i Premium': 24795, '2.5GT': 25795, '3.6R': 30795, '3.6R Limited': 33795},
                2012: {'2.5i': 23095, '2.5i Premium': 25095, '2.5GT': 26095, '3.6R': 31095, '3.6R Limited': 34095},
                2013: {'2.5i': 23395, '2.5i Premium': 25395, '2.5GT': 26395, '3.6R': 31395, '3.6R Limited': 34395},
                2014: {'2.5i': 23695, '2.5i Premium': 25695, '2.5GT': 26695, '3.6R': 31695, '3.6R Limited': 34695},
                2015: {'2.5i': 23995, '2.5i Premium': 25995, '3.6R': 31995, '3.6R Limited': 34995},
                2016: {'2.5i': 24295, '2.5i Premium': 26295, '3.6R': 32295, '3.6R Limited': 35295},
                2017: {'2.5i': 24595, '2.5i Premium': 26595, '3.6R': 32595, '3.6R Limited': 35595},
                2018: {'2.5i': 24895, '2.5i Premium': 26895, '3.6R': 32895, '3.6R Limited': 35895},
                2019: {'2.5i': 25195, '2.5i Premium': 27195, '3.6R': 33195, '3.6R Limited': 36195},
                2020: {'Base': 23645, 'Premium': 26145, 'Limited': 29645, 'Limited XT': 32645, 'Touring XT': 34645},
                2021: {'Base': 23945, 'Premium': 26445, 'Limited': 29945, 'Limited XT': 32945, 'Touring XT': 34945},
                2022: {'Base': 24245, 'Premium': 26745, 'Limited': 30245, 'Limited XT': 33245, 'Touring XT': 35245},
                2023: {'Base': 24545, 'Premium': 27045, 'Limited': 30545, 'Limited XT': 33545, 'Touring XT': 35545},
                2024: {'Base': 24845, 'Premium': 27345, 'Limited': 30845, 'Limited XT': 33845, 'Touring XT': 35845},
                2025: {'Base': 25145, 'Premium': 27645, 'Limited': 31145, 'Limited XT': 34145, 'Touring XT': 36145}
            }
        },
        'Crosstrek': {
            'production_years': (2013, 2025),
            'trims_by_year': {
                2013: {'2.0i Premium': 22195, '2.0i Limited': 25195},
                2014: {'2.0i Premium': 22495, '2.0i Limited': 25495, 'Hybrid': 26995},
                2015: {'2.0i Premium': 22795, '2.0i Limited': 25795, 'Hybrid': 27295},
                2016: {'2.0i Premium': 23095, '2.0i Limited': 26095, 'Hybrid': 27595},
                2017: {'2.0i Premium': 23395, '2.0i Limited': 26395},
                2018: {'2.0i': 23195, '2.0i Premium': 24695, '2.0i Limited': 27695},
                2019: {'2.0i': 23495, '2.0i Premium': 24995, '2.0i Limited': 27995, 'Hybrid': 35695, 'Plug-in Hybrid': 34995},
                2020: {'2.0i': 23795, '2.0i Premium': 25295, '2.0i Limited': 28295, 'Hybrid': 35995, 'Plug-in Hybrid': 35295},
                2021: {'Base': 23145, 'Premium': 24945, 'Limited': 28345, 'Sport': 26345},
                2022: {'Base': 23445, 'Premium': 25245, 'Limited': 28645, 'Sport': 26645, 'Wilderness': 31895},
                2023: {'Base': 23745, 'Premium': 25545, 'Limited': 28945, 'Sport': 26945, 'Wilderness': 32195},
                2024: {'Base': 24045, 'Premium': 25845, 'Limited': 29245, 'Sport': 27245, 'Wilderness': 32495},
                2025: {'Base': 24345, 'Premium': 26145, 'Limited': 29545, 'Sport': 27545, 'Wilderness': 32795}
            }
        },
        'Ascent': {
            'production_years': (2019, 2025),
            'trims_by_year': {
                2019: {'Base': 32970, 'Premium': 34970, 'Limited': 38970, 'Touring': 45970},
                2020: {'Base': 33270, 'Premium': 35270, 'Limited': 39270, 'Touring': 46270},
                2021: {'Base': 33570, 'Premium': 35570, 'Limited': 39570, 'Touring': 46570},
                2022: {'Base': 33870, 'Premium': 35870, 'Limited': 39870, 'Touring': 46870},
                2023: {'Base': 34170, 'Premium': 36170, 'Limited': 40170, 'Touring': 47170},
                2024: {'Base': 34470, 'Premium': 36470, 'Limited': 40470, 'Touring': 47470},
                2025: {'Base': 34770, 'Premium': 36770, 'Limited': 40770, 'Touring': 47770}
            }
        },
        'Tribeca': {
            'production_years': (2006, 2014),
            'trims_by_year': {
                2006: {'Base': 32495, 'Limited': 36495},
                2007: {'Base': 32795, 'Limited': 36795},
                2008: {'Base': 33095, 'Limited': 37095, 'LL Bean': 39095},
                2009: {'Base': 33395, 'Limited': 37395, 'LL Bean': 39395},
                2010: {'Base': 33695, 'Limited': 37695, 'LL Bean': 39695},
                2011: {'Base': 33995, 'Limited': 37995, 'LL Bean': 39995},
                2012: {'Base': 34295, 'Limited': 38295, 'LL Bean': 40295},
                2013: {'Base': 34595, 'Limited': 38595, 'LL Bean': 40595},
                2014: {'Base': 34895, 'Limited': 38895, 'LL Bean': 40895}
            }
        },
        'BRZ': {
            'production_years': (2013, 2025),
            'trims_by_year': {
                2013: {'Premium': 26195, 'Limited': 28195},
                2014: {'Premium': 26495, 'Limited': 28495},
                2015: {'Premium': 26795, 'Limited': 28795, 'Series.Blue': 29795},
                2016: {'Premium': 27095, 'Limited': 29095},
                2017: {'Premium': 27395, 'Limited': 29395, 'Performance Package': 30395},
                2018: {'Premium': 27695, 'Limited': 29695, 'tS': 32695},
                2019: {'Premium': 27995, 'Limited': 29995},
                2020: {'Premium': 28395, 'Limited': 30395},
                2022: {'Premium': 29615, 'Limited': 31615},
                2023: {'Premium': 29915, 'Limited': 31915},
                2024: {'Premium': 30215, 'Limited': 32215},
                2025: {'Premium': 30515, 'Limited': 32515}
            }
        },
        'WRX': {
            'production_years': (2015, 2025),
            'trims_by_year': {
                2015: {'Base': 26595, 'Premium': 28595, 'Limited': 30595},
                2016: {'Base': 26995, 'Premium': 28995, 'Limited': 30995},
                2017: {'Base': 27395, 'Premium': 29395, 'Limited': 31395},
                2018: {'Base': 27795, 'Premium': 29795, 'Limited': 31795},
                2019: {'Base': 28195, 'Premium': 30195, 'Limited': 32195},
                2020: {'Base': 28595, 'Premium': 30595, 'Limited': 32595},
                2021: {'Base': 28995, 'Premium': 30995, 'Limited': 32995},
                2022: {'Base': 31995, 'Premium': 34995, 'Limited': 37995},
                2023: {'Base': 32395, 'Premium': 35395, 'Limited': 38395},
                2024: {'Base': 32795, 'Premium': 35795, 'Limited': 38795},
                2025: {'Base': 33195, 'Premium': 36195, 'Limited': 39195}
            }
        },
        'STI': {
            'production_years': (2004, 2021),
            'trims_by_year': {
                2004: {'Base': 31695},
                2005: {'Base': 31995},
                2006: {'Base': 32295},
                2007: {'Base': 32595, 'Limited': 34595},
                2008: {'Base': 32895, 'Limited': 34895},
                2009: {'Base': 33195, 'Limited': 35195},
                2010: {'Base': 33495, 'Limited': 35495},
                2011: {'Base': 33795, 'Limited': 35795},
                2012: {'Base': 34095, 'Limited': 36095},
                2013: {'Base': 34395, 'Limited': 36395},
                2014: {'Base': 34695, 'Limited': 36695, 'Launch Edition': 37695},
                2015: {'Base': 34995, 'Limited': 36995, 'Launch Edition': 37995},
                2016: {'Base': 35295, 'Limited': 37295},
                2017: {'Base': 35595, 'Limited': 37595},
                2018: {'Base': 35895, 'Limited': 37895, 'Type RA': 49395},
                2019: {'Base': 36195, 'Limited': 38195, 'S209': 64880},
                2020: {'Base': 36495, 'Limited': 38495, 'Final Edition': 41695},
                2021: {'Base': 36795, 'Limited': 38795, 'Final Edition': 41995}
            }
        }
    }
}

# Helper functions for accessing Database S (Subaru vehicles)

def get_manufacturers_s():
    """Get all manufacturers starting with 'S'"""
    return list(MANUFACTURERS_S.keys())

def get_models_for_make_s(make):
    """Get all models for a specific make starting with 'S'"""
    return list(MANUFACTURERS_S.get(make, {}).keys())

def get_production_years_s(make, model):
    """Get production years for a specific make/model starting with 'S'"""
    model_data = MANUFACTURERS_S.get(make, {}).get(model, {})
    return model_data.get('production_years', (2000, 2025))

def get_trims_for_year_s(make, model, year):
    """Get available trims and prices for a specific year"""
    model_data = MANUFACTURERS_S.get(make, {}).get(model, {})
    trims_by_year = model_data.get('trims_by_year', {})
    
    # Return exact year if available
    if year in trims_by_year:
        return trims_by_year[year]
    
    # Find closest year if exact year not available
    available_years = sorted(trims_by_year.keys())
    if not available_years:
        return {}
    
    # Find closest year within production range
    production_start, production_end = get_production_years_s(make, model)
    if year < production_start:
        return trims_by_year.get(production_start, {})
    elif year > production_end:
        return trims_by_year.get(production_end, {})
    else:
        # Find closest available year
        closest_year = min(available_years, key=lambda x: abs(x - year))
        return trims_by_year.get(closest_year, {})

def is_model_available_in_year_s(make, model, year):
    """Check if a model was available in a specific year"""
    start_year, end_year = get_production_years_s(make, model)
    return start_year <= year <= end_year

def get_base_price_s(make, model, year):
    """Get the base (lowest) price for a model in a specific year"""
    trims = get_trims_for_year_s(make, model, year)
    return min(trims.values()) if trims else 0

def get_trim_price_s(make, model, trim, year):
    """Get price for a specific trim in a specific year"""
    trims = get_trims_for_year_s(make, model, year)
    return trims.get(trim, 0)

# Example usage and validation
if __name__ == "__main__":
    # Test the database
    print("Manufacturers starting with 'S':", get_manufacturers_s())
    print("\nSubaru models:", get_models_for_make_s('Subaru'))
    print("\nOutback production years:", get_production_years_s('Subaru', 'Outback'))
    print("\n2023 Outback trims:", get_trims_for_year_s('Subaru', 'Outback', 2023))
    print("\n2023 Outback base price:", get_base_price_s('Subaru', 'Outback', 2023))
    print("\nIs WRX available in 2010?", is_model_available_in_year_s('Subaru', 'WRX', 2010))
    print("Is WRX available in 2020?", is_model_available_in_year_s('Subaru', 'WRX', 2020))
    
    # Test other Subaru models
    print("\n2020 Forester trims:", get_trims_for_year_s('Subaru', 'Forester', 2020))
    print("\n2024 Crosstrek Wilderness price:", get_trim_price_s('Subaru', 'Crosstrek', 'Wilderness', 2024))
    print("\nIs STI available in 2025?", is_model_available_in_year_s('Subaru', 'STI', 2025))
    print("\n2025 Ascent base price:", get_base_price_s('Subaru', 'Ascent', 2025))