# vehicle_database_k.py - Manufacturers starting with 'K' (COMPLETE)
# Comprehensive vehicle database with accurate trim availability and pricing by year

MANUFACTURERS_K = {
    "Kia": {
        'K5': {
            'production_years': (2021, 2025),
            'trims_by_year': {
                2021: {
                    'K5 LX': 23490,
                    'K5 LXS': 24490,
                    'K5 GT-Line': 26490,
                    'K5 EX': 27490,
                    'K5 GT': 30490,
                    'K5 Hybrid LX': 23390, 
                    'K5 Hybrid LXS': 26390, 
                    'K5 Hybrid EX': 27790
                },
                2022: {
                    'K5 LX': 23990,
                    'K5 LXS': 24990,
                    'K5 GT-Line': 26990,
                    'K5 EX': 27990,
                    'K5 GT': 30990,
                    'K5 Hybrid LX': 24390, 
                    'K5 Hybrid LXS': 27390, 
                    'K5 Hybrid EX': 28790
                },
                2023: {
                    'K5 LX': 24590,
                    'K5 LXS': 25590,
                    'K5 GT-Line': 27590,
                    'K5 EX': 28590,
                    'K5 GT': 31590,
                    'K5 Hybrid LX': 25390, 
                    'K5 Hybrid LXS': 28390, 
                    'K5 Hybrid EX': 29790
                },
                2024: {
                    'K5 LX': 25190,
                    'K5 LXS': 26190,
                    'K5 GT-Line': 28190,
                    'K5 EX': 29190,
                    'K5 GT': 32190,
                    'K5 Hybrid LX': 26390, 
                    'K5 Hybrid LXS': 29390, 
                    'K5 Hybrid EX': 30790
                },
                2025: {
                    'K5 LX': 25790,
                    'K5 LXS': 26790,
                    'K5 GT-Line': 28790,
                    'K5 EX': 29790,
                    'K5 GT': 32790,
                    'K5 Hybrid LX': 27390, 
                    'K5 Hybrid LXS': 30390, 
                    'K5 Hybrid EX': 31790
                }
            }
        },
        "Soul": {
            "production_years": (2010, 2025),
            "trims_by_year": {
                2010: {
                    "Soul Base": 13300,
                    "Soul +": 15300,
                    "Soul !": 17300
                },
                2011: {
                    "Soul Base": 13600,
                    "Soul +": 15600,
                    "Soul !": 17600
                },
                2012: {
                    "Soul Base": 13900,
                    "Soul +": 15900,
                    "Soul !": 17900
                },
                2013: {
                    "Soul Base": 14200,
                    "Soul +": 16200,
                    "Soul !": 18200
                },
                2014: {
                    "Soul Base": 15100,
                    "Soul +": 17100,
                    "Soul !": 19100
                },
                2015: {
                    "Soul Base": 15400,
                    "Soul +": 17400,
                    "Soul !": 19400
                },
                2016: {
                    "Soul Base": 15700,
                    "Soul +": 17700,
                    "Soul !": 19700
                },
                2017: {
                    "Soul Base": 16000,
                    "Soul +": 18000,
                    "Soul !": 20000
                },
                2018: {
                    "Soul Base": 16300,
                    "Soul +": 18300,
                    "Soul !": 20300
                },
                2019: {
                    "Soul LX": 17590,
                    "Soul S": 19590,
                    "Soul !": 21590,
                    "Soul EV": 33950
                },
                2020: {
                    "Soul LX": 17890,
                    "Soul S": 19890,
                    "Soul !": 21890,
                    "Soul GT-Line": 23890
                },
                2021: {
                    "Soul LX": 18190,
                    "Soul S": 20190,
                    "Soul !": 22190,
                    "Soul GT-Line": 24190
                },
                2022: {
                    "Soul LX": 18490,
                    "Soul S": 20490,
                    "Soul !": 22490,
                    "Soul GT-Line": 24490
                },
                2023: {
                    "Soul LX": 18790,
                    "Soul S": 20790,
                    "Soul !": 22790,
                    "Soul GT-Line": 24790
                },
                2024: {
                    "Soul LX": 19090,
                    "Soul S": 21090,
                    "Soul !": 23090,
                    "Soul GT-Line": 25090
                },
                2025: {
                    "Soul LX": 19390,
                    "Soul S": 21390,
                    "Soul !": 23390,
                    "Soul GT-Line": 25390
                }
            }
        },
        "Optima": {
            "production_years": (2000, 2020),
            "trims_by_year": {
                2000: {
                    "Optima SE": 17995,
                    "Optima LX": 19995
                },
                2001: {
                    "Optima SE": 18295,
                    "Optima LX": 20295
                },
                2002: {
                    "Optima SE": 18595,
                    "Optima LX": 20595
                },
                2003: {
                    "Optima SE": 18895,
                    "Optima LX": 20895,
                    "Optima EX": 22895
                },
                2004: {
                    "Optima LX": 19195,
                    "Optima EX": 23195
                },
                2005: {
                    "Optima LX": 19495,
                    "Optima EX": 23495
                },
                2006: {
                    "Optima LX": 19795,
                    "Optima EX": 23795
                },
                2007: {
                    "Optima LX": 20095,
                    "Optima EX": 24095
                },
                2008: {
                    "Optima LX": 20395,
                    "Optima EX": 24395
                },
                2009: {
                    "Optima LX": 20695,
                    "Optima EX": 24695
                },
                2010: {
                    "Optima LX": 20995,
                    "Optima EX": 24995
                },
                2011: {
                    "Optima LX": 20500,
                    "Optima EX": 24500,
                    "Optima SX": 26500,
                    'Optima Hybrid': 25995
                },
                2012: {
                    "Optima LX": 20800,
                    "Optima EX": 24800,
                    "Optima SX": 26800,
                    'Optima Hybrid': 26350
                },
                2013: {
                    "Optima LX": 21100,
                    "Optima EX": 25100,
                    "Optima SX": 27100,
                    'Optima Hybrid': 26550
                },
                2014: {
                    "Optima LX": 21400,
                    "Optima EX": 25400,
                    "Optima SX": 27400,
                    'Optima Hybrid EX': 26100,
                    'Optima Hybrid LX': 29600
                },
                2015: {
                    "Optima LX": 21700,
                    "Optima EX": 25700,
                    "Optima SX": 27700,
                    'Optima Hybrid EX': 26500,
                    'Optima Hybrid LX': 30000
                },
                2016: {
                    "Optima LX": 22000,
                    "Optima S": 24000,
                    "Optima EX": 26000,
                    "Optima SX": 28000,
                    'Optima Hybrid EX': 26900,
                    'Optima Hybrid LX': 30400
                },
                2017: {
                    "Optima LX": 22300,
                    "Optima S": 24300,
                    "Optima EX": 26300,
                    "Optima SX": 28300,
                    'Optima Hybrid EX': 25995,
                    'Optima Hybrid Premium': 28995
                },
                2018: {
                    "Optima LX": 22600,
                    "Optima S": 24600,
                    "Optima EX": 26600,
                    "Optima SX": 28600,
                    'Optima Hybrid EX': 26295,
                    'Optima Hybrid Premium': 29295
                },
                2019: {
                    "Optima LX": 22900,
                    "Optima S": 24900,
                    "Optima EX": 26900,
                    "Optima SX": 28900,
                    'Optima Hybrid EX': 26595,
                    'Optima Hybrid Premium': 29595
                },
                2020: {
                    "Optima LX": 23200,
                    "Optima S": 25200,
                    "Optima EX": 27200,
                    "Optima SX": 29200,
                    'Optima Hybrid EX': 26895,
                    'Optima Hybrid Premium': 29895
                }
            }
        },
        "Sportage": {
            "production_years": (2005, 2025),
            "trims_by_year": {
                2005: {
                    "Sportage LX": 17995,
                    "Sportage EX": 22995
                },
                2006: {
                    "Sportage LX": 18295,
                    "Sportage EX": 23295
                },
                2007: {
                    "Sportage LX": 18595,
                    "Sportage EX": 23595
                },
                2008: {
                    "Sportage LX": 18895,
                    "Sportage EX": 23895
                },
                2009: {
                    "Sportage LX": 19195,
                    "Sportage EX": 24195
                },
                2010: {
                    "Sportage LX": 19495,
                    "Sportage EX": 24495
                },
                2011: {
                    "Sportage Base": 19700,
                    "Sportage LX": 21700,
                    "Sportage EX": 25700,
                    "Sportage SX": 28700
                },
                2012: {
                    "Sportage Base": 20000,
                    "Sportage LX": 22000,
                    "Sportage EX": 26000,
                    "Sportage SX": 29000
                },
                2013: {
                    "Sportage Base": 20300,
                    "Sportage LX": 22300,
                    "Sportage EX": 26300,
                    "Sportage SX": 29300
                },
                2014: {
                    "Sportage LX": 22600,
                    "Sportage EX": 26600,
                    "Sportage SX": 29600
                },
                2015: {
                    "Sportage LX": 22900,
                    "Sportage EX": 26900,
                    "Sportage SX": 29900
                },
                2016: {
                    "Sportage LX": 23200,
                    "Sportage EX": 27200,
                    "Sportage SX": 30200
                },
                2017: {
                    "Sportage LX": 23500,
                    "Sportage S": 25500,
                    "Sportage EX": 27500,
                    "Sportage SX Turbo": 32500
                },
                2018: {
                    "Sportage LX": 23800,
                    "Sportage S": 25800,
                    "Sportage EX": 27800,
                    "Sportage SX Turbo": 32800
                },
                2019: {
                    "Sportage LX": 24100,
                    "Sportage S": 26100,
                    "Sportage EX": 28100,
                    "Sportage SX Turbo": 33100
                },
                2020: {
                    "Sportage LX": 24400,
                    "Sportage S": 26400,
                    "Sportage EX": 28400,
                    "Sportage SX Turbo": 33400
                },
                2021: {
                    "Sportage LX": 24700,
                    "Sportage S": 26700,
                    "Sportage EX": 28700,
                    "Sportage SX Turbo": 33700
                },
                2022: {
                    "Sportage LX": 25000,
                    "Sportage S": 27000,
                    "Sportage EX": 29000,
                    "Sportage SX Turbo": 34000
                },
                2023: {
                    "Sportage LX": 25300,
                    "Sportage S": 27300,
                    "Sportage EX": 29300,
                    "Sportage SX": 34300,
                    'Sportage Hybrid LX': 27290, 
                    'Sportage Hybrid EX': 30390, 
                    'Sportage Hybrid SX': 34390
                },
                2024: {
                    "Sportage LX": 25600,
                    "Sportage S": 27600,
                    "Sportage EX": 29600,
                    "Sportage SX": 34600,
                    'Sportage Hybrid LX': 28090, 
                    'Sportage Hybrid EX': 31190, 
                    'Sportage Hybrid SX': 35190
                },
                2025: {
                    "Sportage LX": 25900,
                    "Sportage S": 27900,
                    "Sportage EX": 29900,
                    "Sportage SX": 34900,
                    'Sportage Hybrid LX': 28890, 
                    'Sportage Hybrid EX': 31990, 
                    'Sportage Hybrid SX': 35990
                }
            }
        },
        "Sorento": {
            "production_years": (2003, 2025),
            "trims_by_year": {
                2003: {
                    "Sorento LX": 20995,
                    "Sorento EX": 25995
                },
                2004: {
                    "Sorento LX": 21295,
                    "Sorento EX": 26295
                },
                2005: {
                    "Sorento LX": 21595,
                    "Sorento EX": 26595
                },
                2006: {
                    "Sorento LX": 21895,
                    "Sorento EX": 26895
                },
                2007: {
                    "Sorento LX": 22195,
                    "Sorento EX": 27195
                },
                2008: {
                    "Sorento LX": 22495,
                    "Sorento EX": 27495
                },
                2009: {
                    "Sorento LX": 22795,
                    "Sorento EX": 27795
                },
                2010: {
                    "Sorento LX": 23095,
                    "Sorento EX": 28095
                },
                2011: {
                    "Sorento LX": 26350,
                    "Sorento EX": 30350,
                    "Sorento SX": 34350
                },
                2012: {
                    "Sorento LX": 26650,
                    "Sorento EX": 30650,
                    "Sorento SX": 34650
                },
                2013: {
                    "Sorento LX": 26950,
                    "Sorento EX": 30950,
                    "Sorento SX": 34950
                },
                2014: {
                    "Sorento LX": 27250,
                    "Sorento EX": 31250,
                    "Sorento SX": 35250
                },
                2015: {
                    "Sorento LX": 27550,
                    "Sorento EX": 31550,
                    "Sorento SX": 35550
                },
                2016: {
                    "Sorento L": 25900,
                    "Sorento LX": 28900,
                    "Sorento EX": 31900,
                    "Sorento SX": 35900
                },
                2017: {
                    "Sorento L": 26200,
                    "Sorento LX": 29200,
                    "Sorento EX": 32200,
                    "Sorento SX": 36200
                },
                2018: {
                    "Sorento L": 26500,
                    "Sorento LX": 29500,
                    "Sorento EX": 32500,
                    "Sorento SX": 36500
                },
                2019: {
                    "Sorento L": 26800,
                    "Sorento LX": 29800,
                    "Sorento EX": 32800,
                    "Sorento SX": 36800
                },
                2020: {
                    "Sorento L": 27100,
                    "Sorento LX": 30100,
                    "Sorento EX": 33100,
                    "Sorento SX": 37100
                },
                2021: {
                    "Sorento LX": 29590,
                    "Sorento S": 32590,
                    "Sorento EX": 35590,
                    "Sorento SX": 38590,
                    'Sorento Hybrid LX': 33090, 
                    'Sorento Hybrid EX': 35990, 
                    'Sorento Hybrid SX': 39490

                },
                2022: {
                    "Sorento LX": 29890,
                    "Sorento S": 32890,
                    "Sorento EX": 35890,
                    "Sorento SX": 38890,
                    'Sorento Hybrid LX': 33890, 
                    'Sorento Hybrid EX': 36790, 
                    'Sorento Hybrid SX': 40290
                },
                2023: {
                    "Sorento LX": 30190,
                    "Sorento S": 33190,
                    "Sorento EX": 36190,
                    "Sorento SX": 39190,
                    'Sorento Hybrid LX': 34690, 
                    'Sorento Hybrid EX': 37590, 
                    'Sorento Hybrid SX': 41090
                },
                2024: {
                    "Sorento LX": 30490,
                    "Sorento S": 33490,
                    "Sorento EX": 36490,
                    "Sorento SX": 39490,
                    'Sorento Hybrid LX': 35490, 
                    'Sorento Hybrid EX': 38390, 
                    'Sorento Hybrid SX': 41890
                },
                2025: {
                    "Sorento LX": 30790,
                    "Sorento S": 33790,
                    "Sorento EX": 36790,
                    "Sorento SX": 39790,
                    'Sorento Hybrid LX': 36290, 
                    'Sorento Hybrid EX': 39190, 
                    'Sorento Hybrid SX': 42690
                }
            }
        },
        "Telluride": {
            "production_years": (2020, 2025),
            "trims_by_year": {
                2020: {
                    "Telluride LX": 31890,
                    "Telluride S": 34890,
                    "Telluride EX": 37890,
                    "Telluride SX": 42890
                },
                2021: {
                    "Telluride LX": 32190,
                    "Telluride S": 35190,
                    "Telluride EX": 38190,
                    "Telluride SX": 43190
                },
                2022: {
                    "Telluride LX": 32490,
                    "Telluride S": 35490,
                    "Telluride EX": 38490,
                    "Telluride SX": 43490
                },
                2023: {
                    "Telluride LX": 32790,
                    "Telluride S": 35790,
                    "Telluride EX": 38790,
                    "Telluride SX": 43790
                },
                2024: {
                    "Telluride LX": 33090,
                    "Telluride S": 36090,
                    "Telluride EX": 39090,
                    "Telluride SX": 44090
                },
                2025: {
                    "Telluride LX": 33390,
                    "Telluride S": 36390,
                    "Telluride EX": 39390,
                    "Telluride SX": 44390
                }
            }
        },
        "Stinger": {
            "production_years": (2018, 2025),
            "trims_by_year": {
                2018: {
                    "Stinger Base": 31900,
                    "Stinger Premium": 38900,
                    "Stinger GT": 50900,
                    "Stinger GT1": 44900,
                    "Stinger GT2": 47900
                },
                2019: {
                    "Stinger Base": 32200,
                    "Stinger Premium": 39200,
                    "Stinger GT": 51200,
                    "Stinger GT1": 45200,
                    "Stinger GT2": 48200
                },
                2020: {
                    "Stinger Base": 32500,
                    "Stinger Premium": 39500,
                    "Stinger GT": 51500,
                    "Stinger GT1": 45500,
                    "Stinger GT2": 48500
                },
                2021: {
                    "Stinger GT-Line": 35300,
                    "Stinger GT1": 43300,
                    "Stinger GT2": 47300
                },
                2022: {
                    "Stinger GT-Line": 35600,
                    "Stinger GT1": 43600,
                    "Stinger GT2": 47600
                },
                2023: {
                    "Stinger GT-Line": 35900,
                    "Stinger GT1": 43900,
                    "Stinger GT2": 47900
                },
                2024: {
                    "Stinger GT-Line": 36200,
                    "Stinger GT1": 44200,
                    "Stinger GT2": 48200
                },
                2025: {
                    "Stinger GT-Line": 36500,
                    "Stinger GT1": 44500,
                    "Stinger GT2": 48500
                }
            }
        },
        "Seltos": {
            "production_years": (2021, 2025),
            "trims_by_year": {
                2021: {
                    "Seltos LX": 21990,
                    "Seltos S": 23990,
                    "Seltos EX": 26990,
                    "Seltos SX": 29990
                },
                2022: {
                    "Seltos LX": 22290,
                    "Seltos S": 24290,
                    "Seltos EX": 27290,
                    "Seltos SX": 30290
                },
                2023: {
                    "Seltos LX": 22590,
                    "Seltos S": 24590,
                    "Seltos EX": 27590,
                    "Seltos SX": 30590
                },
                2024: {
                    "Seltos LX": 22890,
                    "Seltos S": 24890,
                    "Seltos EX": 27890,
                    "Seltos SX": 30890
                },
                2025: {
                    "Seltos LX": 23190,
                    "Seltos S": 25190,
                    "Seltos EX": 28190,
                    "Seltos SX": 31190
                }
            }
        },
        'Forte': {
            'production_years': (2010, 2025),
            'trims_by_year': {
                2010: {'Forte LX': 14995, 'Forte EX': 17995, 'Forte SX': 19995},
                2011: {'Forte LX': 15295, 'Forte EX': 18295, 'Forte SX': 20295},
                2012: {'Forte LX': 15595, 'Forte EX': 18595, 'Forte SX': 20595},
                2013: {'Forte LX': 15895, 'Forte EX': 18895, 'Forte SX': 20895},
                2014: {'Forte LX': 16195, 'Forte EX': 19195, 'Forte SX': 21195},
                2015: {'Forte LX': 16495, 'Forte EX': 19495, 'Forte SX': 21495},
                2016: {'Forte LX': 16795, 'Forte EX': 19795, 'Forte SX': 21795},
                2017: {'Forte LX': 17095, 'Forte EX': 20095, 'Forte SX': 22095},
                2018: {'Forte LX': 17395, 'Forte S': 18395, 'Forte EX': 20395, 'Forte SX': 22395},
                2019: {'Forte FE': 17790, 'Forte LXS': 18790, 'Forte S': 19290, 'Forte EX': 21790, 'Forte GT': 25290},
                2020: {'Forte FE': 18090, 'Forte LXS': 19090, 'Forte S': 19590, 'Forte EX': 22090, 'Forte GT': 25590},
                2021: {'Forte LXS': 19290, 'Forte S': 19790, 'Forte EX': 22290, 'Forte GT-Line': 23790, 'Forte GT': 25890},
                2022: {'Forte LXS': 19590, 'Forte S': 20090, 'Forte EX': 22590, 'Forte GT-Line': 24090, 'Forte GT': 26190},
                2023: {'Forte LXS': 19890, 'Forte S': 20390, 'Forte EX': 22890, 'Forte GT-Line': 24390, 'Forte GT': 26490},
                2024: {'Forte LXS': 20290, 'Forte S': 20790, 'Forte EX': 23290, 'Forte GT-Line': 24790, 'Forte GT': 26890},
                2025: {'Forte LXS': 20690, 'Forte S': 21190, 'Forte EX': 23690, 'Forte GT-Line': 25190, 'Forte GT': 27290}
            }
        },
        "Niro": {
            "production_years": (2017, 2025),
            "trims_by_year": {
                2017: {
                    "Niro FE": 22890,
                    "Niro LX": 24890,
                    "Niro EX": 27890,
                    "Niro Touring": 30890,
                    'Niro Hybrid FE': 22890,
                    'Niro Hybrid LX': 24090,
                    'Niro Hybrid EX': 26490,
                    'Niro Hybrid Touring': 29390
                },
                2018: {
                    "Niro FE": 23190,
                    "Niro LX": 25190,
                    "Niro EX": 28190,
                    "Niro Touring": 31190,
                    'Niro Hybrid FE': 23390,
                    'Niro Hybrid LX': 24590,
                    'Niro Hybrid EX': 26990,
                    'Niro Hybrid Touring': 29890
                },
                2019: {
                    "Niro FE": 23490,
                    "Niro LX": 25490,
                    "Niro EX": 28490,
                    "Niro Touring": 31490,
                    'Niro Hybrid FE': 23840,
                    'Niro Hybrid LX': 25040,
                    'Niro Hybrid EX': 27440,
                    'Niro Hybrid Touring': 30340
                },
                2020: {
                    "Niro LX": 24590,
                    "Niro S": 26590,
                    "Niro EX": 28590,
                    "Niro Touring": 31590,
                    'Niro Hybrid LXS': 24690,
                    'Niro Hybrid EX': 27490,
                    'Niro Hybrid EX Premium': 29190,
                    'Niro Hybrid Touring': 32190
                },
                2021: {
                    "Niro LX": 24890,
                    "Niro S": 26890,
                    "Niro EX": 28890,
                    "Niro Touring": 31890,
                    'Niro Hybrid LXS': 25090,
                    'Niro Hybrid EX': 27890,
                    'Niro Hybrid EX Premium': 29590,
                    'Niro Hybrid Touring': 32590
                },
                2022: {
                    "Niro LX": 25190,
                    "Niro S": 27190,
                    "Niro EX": 29190,
                    "Niro Touring": 32190,
                    'Niro Hybrid LXS': 25490,
                    'Niro Hybrid EX': 28290, 
                    'Niro Hybrid EX Premium': 29990, 
                    'Niro Hybrid Touring': 32990
                },
                2023: {
                    "Niro LX": 25490,
                    "Niro S": 27490,
                    "Niro EX": 29490,
                    "Niro Touring": 32490,
                    'Niro Hybrid LX': 27785, 
                    'Niro Hybrid EX': 30485, 
                    'Niro Hybrid Touring': 33485
                },
                2024: {
                    "Niro LX": 25790,
                    "Niro S": 27790,
                    "Niro EX": 29790,
                    "Niro Touring": 32790,
                    'Niro Hybrid LX': 28585, 
                    'Niro Hybrid EX': 31285, 
                    'Niro Hybrid Touring': 34285
                },
                2025: {
                    "Niro LX": 26090,
                    "Niro S": 28090,
                    "Niro EX": 30090,
                    "Niro Touring": 33090,
                    'Niro Hybrid LX': 29385, 
                    'Niro Hybrid EX': 32085, 
                    'Niro Hybrid Touring': 35085
                }
            }
        }
    }
}

# Helper functions for accessing Database K
def get_manufacturers_k():
    """Get all manufacturers starting with 'K'"""
    return list(MANUFACTURERS_K.keys())

def get_models_for_make_k(make):
    """Get all models for a specific make starting with 'K'"""
    return list(MANUFACTURERS_K.get(make, {}).keys())

def get_production_years_k(make, model):
    """Get production years for a specific make/model starting with 'K'"""
    model_data = MANUFACTURERS_K.get(make, {}).get(model, {})
    return model_data.get('production_years', (2000, 2025))

def get_trims_for_year_k(make, model, year):
    """Get available trims and prices for a specific year"""
    model_data = MANUFACTURERS_K.get(make, {}).get(model, {})
    trims_by_year = model_data.get('trims_by_year', {})
    
    # Return exact year if available
    if year in trims_by_year:
        return trims_by_year[year]
    
    # Find closest year if exact year not available
    available_years = sorted(trims_by_year.keys())
    if not available_years:
        return {}
    
    # Find closest year within production range
    production_start, production_end = get_production_years_k(make, model)
    if year < production_start:
        return trims_by_year.get(production_start, {})
    elif year > production_end:
        return trims_by_year.get(production_end, {})
    else:
        # Find closest available year
        closest_year = min(available_years, key=lambda x: abs(x - year))
        return trims_by_year.get(closest_year, {})

def is_model_available_in_year_k(make, model, year):
    """Check if a model was available in a specific year"""
    start_year, end_year = get_production_years_k(make, model)
    return start_year <= year <= end_year

def get_base_price_k(make, model, year):
    """Get the base (lowest) price for a model in a specific year"""
    trims = get_trims_for_year_k(make, model, year)
    return min(trims.values()) if trims else 0

def get_trim_price_k(make, model, trim, year):
    """Get price for a specific trim in a specific year"""
    trims = get_trims_for_year_k(make, model, year)
    return trims.get(trim, 0)

# Example usage and validation
if __name__ == "__main__":
    # Test the database
    print("Manufacturers starting with 'K':", get_manufacturers_k())
    print("\nKia models:", get_models_for_make_k('Kia'))
    print("\nTelluride production years:", get_production_years_k('Kia', 'Telluride'))
    print("\n2023 Telluride trims:", get_trims_for_year_k('Kia', 'Telluride', 2023))
    print("\n2023 Telluride base price:", get_base_price_k('Kia', 'Telluride', 2023))
    print("\nIs Stinger available in 2017?", is_model_available_in_year_k('Kia', 'Stinger', 2017))
    print("Is Stinger available in 2020?", is_model_available_in_year_k('Kia', 'Stinger', 2020))